<%= render "shared/form_card",
    icon: "cards",
    title: "Select Format",
    description: "Choose a game format for this session. Each format has its own buy-in amount and chip denominations.",
    current_step: 1,
    total_steps: 3 do %>
  
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <% @game_formats.each do |format| %>
      <%= link_to select_players_table_game_sessions_path(@table, game_format_id: format.id),
          class: "bg-primary-800/50 backdrop-blur-sm rounded-xl border border-primary-700/50 p-4 hover:border-secondary-400 transition-colors duration-200" do %>
        <%# Header with Name and Buy-in %>
        <div class="flex items-center justify-between mb-3">
          <h3 class="text-primary-50 font-mono font-bold truncate mr-3"><%= format.name %></h3>
          <span class="text-secondary-400 text-sm font-mono whitespace-nowrap">
            $<%= number_with_precision(format.buy_in, precision: 2) %>
          </span>
        </div>

        <%# Chip Denominations %>
        <div class="flex flex-wrap gap-2">
          <% format.denominations.sort_by { |d| -d['value'].to_f }.each do |denomination| %>
            <div class="inline-flex items-center space-x-2 px-2 py-1 rounded-lg bg-primary-700/30">
              <div class="w-3 h-3 rounded-full border border-primary-600"
                   style="background-color: <%= GameFormat::VALID_COLORS[denomination['color']] %>"></div>
              <span class="text-xs font-mono text-primary-300">
                $<%= number_with_precision(denomination['value'], precision: 2) %>
              </span>
            </div>
          <% end %>
        </div>
      <% end %>
    <% end %>
  </div>
<% end %>

<%= render 'shared/bottom_nav' %>
